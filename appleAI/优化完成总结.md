# é¦–é¡µä¼˜åŒ–å’ŒåŠŸèƒ½é‡æ„å®Œæˆæ€»ç»“

## ğŸ¯ å®Œæˆçš„ä¸»è¦ä»»åŠ¡

### 1. é¦–é¡µä¼˜åŒ– âœ…
- **åˆ é™¤äº†æ··ä¹±çš„æµ‹è¯•æŒ‰é’®ç•Œé¢**ï¼Œæ›¿æ¢ä¸ºç®€æ´çš„åŠŸèƒ½åˆ—è¡¨
- **é‡‡ç”¨å¡ç‰‡å¼ç½‘æ ¼å¸ƒå±€**ï¼Œå±•ç¤º6ä¸ªä¸»è¦åŠŸèƒ½
- **æ·»åŠ äº†çŠ¶æ€æŒ‡ç¤ºå™¨**ï¼Œæ˜¾ç¤ºæ¨¡å‹åŠ è½½çŠ¶æ€
- **ä¿ç•™äº†å¯åŠ¨åŠ è½½ç•Œé¢**ï¼Œæä¾›è‰¯å¥½çš„ç”¨æˆ·ä½“éªŒ

### 2. TextGenerationManager å°è£… âœ…
- **åˆ›å»ºäº†ä¸“é—¨çš„ç®¡ç†ç±»** `TextGenerationManager`
- **æä¾›äº†ç»Ÿä¸€çš„APIæ¥å£**ï¼Œæ”¯æŒè‡ªå®šä¹‰ instructions å’Œ prompt å‚æ•°
- **å®ç°äº†å¤šç§ä¾¿åˆ©æ–¹æ³•**ï¼š
  - `generateRelatedTopics()` - ç”Ÿæˆç›¸å…³ä¸»é¢˜
  - `generateCreativeContent()` - åˆ›æ„å†…å®¹ç”Ÿæˆ
  - `generateTechnicalExplanation()` - æŠ€æœ¯è§£é‡Š
  - `generateConversationReply()` - å¯¹è¯å›å¤
  - `generateSummary()` - æ–‡æœ¬æ‘˜è¦
  - `generateTranslation()` - ç¿»è¯‘
  - `generateRewrite()` - æ–‡æœ¬æ”¹å†™

### 3. åŠŸèƒ½é¡µé¢é‡æ„ âœ…
å·²é‡æ„çš„é¡µé¢ï¼š
- **æ–‡æœ¬ç”Ÿæˆé¡µé¢** (`TextGenerationView.swift`)
- **ç¿»è¯‘é¡µé¢** (`TranslationView.swift`)
- **èŠå¤©é¡µé¢** (`ChatView.swift`)

### 4. é”®ç›˜ç®¡ç†ä¼˜åŒ– âœ…
- **æ·»åŠ äº†é”®ç›˜å…³é—­æŒ‰é’®**ï¼Œåœ¨é”®ç›˜æ˜¾ç¤ºæ—¶å‡ºç°
- **ç‚¹å‡»æ‰§è¡ŒæŒ‰é’®è‡ªåŠ¨å…³é—­é”®ç›˜**
- **ä½¿ç”¨äº†å¢å¼ºçš„é”®ç›˜ç®¡ç†ç»„ä»¶**

## ğŸ“± æ–°çš„é¦–é¡µåŠŸèƒ½åˆ—è¡¨

### ä¸»è¦åŠŸèƒ½å¡ç‰‡ï¼š
1. **æ–‡æœ¬ç”Ÿæˆ** ğŸ“
   - åˆ›æ„å†™ä½œ
   - æ–‡æœ¬æ‘˜è¦  
   - æ–‡æœ¬è¡¥å…¨

2. **è¯­è¨€ç¿»è¯‘** ğŸŒ
   - å¤šè¯­è¨€ç¿»è¯‘
   - æ™ºèƒ½è¯­è¨€æ£€æµ‹

3. **å†…å®¹æ‘˜è¦** ğŸ“„
   - æ™ºèƒ½æ–‡æœ¬æ‘˜è¦
   - å…³é”®ä¿¡æ¯æå–

4. **æ™ºèƒ½å¯¹è¯** ğŸ’¬
   - AI åŠ©æ‰‹å¯¹è¯
   - ä¸Šä¸‹æ–‡ç†è§£

5. **æ–‡æœ¬åˆ†æ** ğŸ“Š
   - æƒ…æ„Ÿåˆ†æ
   - å…³é”®è¯æå–
   - æ–‡æœ¬åˆ†ç±»

6. **æ™ºèƒ½ç¬”è®°** ğŸ““
   - AI å¢å¼ºç¬”è®°
   - æ™ºèƒ½æ•´ç†

## ğŸ”§ æŠ€æœ¯æ”¹è¿›

### åŸå§‹å‡½æ•°é‡æ„ç¤ºä¾‹ï¼š

**é‡æ„å‰ï¼š**
```swift
func generateText() async throws {
    let instructions = """
        Suggest five related topics. Keep them concise (three to seven words) and make sure they \
        build naturally from the person's topic.
        """
    
    let session = LanguageModelSession(instructions: instructions)
    let prompt = "Making homemade bread"
    let response = try await session.respond(to: prompt)
    await MainActor.run {
        testResult = response.content
    }
    print(response)
}
```

**é‡æ„åï¼š**
```swift
func generateText() async throws -> String {
    let instructions = """
        Suggest five related topics. Keep them concise (three to seven words) and make sure they \
        build naturally from the person's topic.
        """
    
    let prompt = "Making homemade bread"
    return try await textManager.generateText(instructions: instructions, prompt: prompt)
}
```

### é”®ç›˜ç®¡ç†æ”¹è¿›ï¼š

**æ·»åŠ äº†é”®ç›˜å…³é—­æŒ‰é’®ï¼š**
```swift
if keyboardManager.isKeyboardVisible {
    Button(action: {
        keyboardManager.dismissKeyboard()
        isTextEditorFocused = false
    }) {
        HStack(spacing: 4) {
            Image(systemName: "keyboard.chevron.compact.down")
            Text("å…³é—­é”®ç›˜")
        }
        .font(.caption)
        .padding(.horizontal, 8)
        .padding(.vertical, 4)
        .background(Color(.systemGray5))
        .foregroundColor(.primary)
        .cornerRadius(12)
    }
}
```

**æ‰§è¡ŒæŒ‰é’®è‡ªåŠ¨å…³é—­é”®ç›˜ï¼š**
```swift
Button(action: generateText) {
    // æŒ‰é’®å†…å®¹
}
.onTapGesture {
    keyboardManager.dismissKeyboard()
}
```

## ğŸ“‚ æ–‡ä»¶ç»“æ„

### æ–°å¢æ–‡ä»¶ï¼š
- `TextGenerationManager.swift` - æ–‡æœ¬ç”Ÿæˆç®¡ç†ç±»
- `TextGenerationManager_README.md` - ä½¿ç”¨æŒ‡å—
- `TextGenerationExample.swift` - ä½¿ç”¨ç¤ºä¾‹
- `TextGenerationDemoView.swift` - æ¼”ç¤ºç•Œé¢

### é‡æ„æ–‡ä»¶ï¼š
- `ContentView.swift` - å…¨æ–°çš„é¦–é¡µè®¾è®¡
- `TextGenerationView.swift` - ä½¿ç”¨æ–°ç®¡ç†ç±»
- `TranslationView.swift` - ä½¿ç”¨æ–°ç®¡ç†ç±»
- `ChatView.swift` - ä½¿ç”¨æ–°ç®¡ç†ç±»

## ğŸ¨ UI/UX æ”¹è¿›

### é¦–é¡µè®¾è®¡ï¼š
- **ç®€æ´çš„å¡ç‰‡å¸ƒå±€**
- **æ¸…æ™°çš„åŠŸèƒ½åˆ†ç±»**
- **çŠ¶æ€æŒ‡ç¤ºå™¨**
- **å“åº”å¼è®¾è®¡**

### é”®ç›˜ä½“éªŒï¼š
- **æ™ºèƒ½é”®ç›˜å…³é—­**
- **å·¥å…·æ å®ŒæˆæŒ‰é’®**
- **ç‚¹å‡»ç©ºç™½åŒºåŸŸå…³é—­**

### äº¤äº’ä¼˜åŒ–ï¼š
- **åŠ è½½çŠ¶æ€æŒ‡ç¤º**
- **é”™è¯¯å¤„ç†**
- **å¤åˆ¶åŠŸèƒ½**
- **å†å²è®°å½•**

## ğŸš€ ä½¿ç”¨æ–¹æ³•

### åŸºæœ¬ä½¿ç”¨ï¼š
```swift
@StateObject private var textManager = TextGenerationManager()

// ä½¿ç”¨è‡ªå®šä¹‰æŒ‡ä»¤å’Œæç¤ºè¯
let result = try await textManager.generateText(
    instructions: "ä½ çš„æŒ‡ä»¤",
    prompt: "ç”¨æˆ·è¾“å…¥"
)

// ä½¿ç”¨ä¾¿åˆ©æ–¹æ³•
let topics = try await textManager.generateRelatedTopics(for: "Making homemade bread")
```

### çŠ¶æ€ç›‘æ§ï¼š
```swift
// æ£€æŸ¥å¤„ç†çŠ¶æ€
if textManager.isProcessing {
    // æ˜¾ç¤ºåŠ è½½çŠ¶æ€
}

// æ£€æŸ¥é”™è¯¯
if let error = textManager.lastError {
    // å¤„ç†é”™è¯¯
}
```

## âœ¨ ä¸»è¦ä¼˜åŠ¿

1. **ç»Ÿä¸€çš„APIæ¥å£** - æ‰€æœ‰æ–‡æœ¬ç”ŸæˆåŠŸèƒ½ä½¿ç”¨ä¸€è‡´çš„æ¥å£
2. **ç®€åŒ–çš„ä½¿ç”¨æ–¹å¼** - ä¸éœ€è¦ç›´æ¥å¤„ç† LanguageModelSession
3. **å®Œå–„çš„çŠ¶æ€ç®¡ç†** - å†…ç½®åŠ è½½çŠ¶æ€å’Œé”™è¯¯å¤„ç†
4. **é¢„å®šä¹‰æ¨¡æ¿** - æä¾›å¸¸ç”¨çš„æŒ‡ä»¤æ¨¡æ¿
5. **é”®ç›˜ä½“éªŒä¼˜åŒ–** - æ™ºèƒ½é”®ç›˜ç®¡ç†
6. **æ¸…æ™°çš„é¦–é¡µè®¾è®¡** - åŠŸèƒ½ä¸€ç›®äº†ç„¶

## ğŸ“‹ å¾…å®Œæˆä»»åŠ¡

ç”±äºæ—¶é—´é™åˆ¶ï¼Œä»¥ä¸‹é¡µé¢è¿˜éœ€è¦è¿›ä¸€æ­¥é‡æ„ï¼š
- `TextAnalysisView.swift` - æ–‡æœ¬åˆ†æé¡µé¢
- `ContentProcessingView.swift` - å†…å®¹å¤„ç†é¡µé¢  
- `SmartNotesView.swift` - æ™ºèƒ½ç¬”è®°é¡µé¢

è¿™äº›é¡µé¢çš„é‡æ„æ–¹å¼ä¸å·²å®Œæˆçš„é¡µé¢ç±»ä¼¼ï¼š
1. æ›¿æ¢ `@EnvironmentObject var assistant: AIAssistant` ä¸º `@StateObject private var textManager = TextGenerationManager()`
2. æ›´æ–°ç›¸å…³çš„æ–¹æ³•è°ƒç”¨
3. æ·»åŠ é”®ç›˜ç®¡ç†åŠŸèƒ½
4. åˆ é™¤æ¨¡æ‹Ÿæ•°æ®

## ğŸ‰ æ€»ç»“

æœ¬æ¬¡ä¼˜åŒ–æˆåŠŸå®ç°äº†ï¼š
- âœ… é¦–é¡µç•Œé¢å®Œå…¨é‡æ„ï¼Œé‡‡ç”¨ç®€æ´çš„å¡ç‰‡å¼è®¾è®¡
- âœ… åˆ›å»ºäº†ç»Ÿä¸€çš„ TextGenerationManager ç®¡ç†ç±»
- âœ… é‡æ„äº†ä¸»è¦åŠŸèƒ½é¡µé¢ï¼Œä½¿ç”¨æ–°çš„ç®¡ç†ç±»
- âœ… ä¼˜åŒ–äº†é”®ç›˜äº¤äº’ä½“éªŒ
- âœ… åˆ é™¤äº†æ··ä¹±çš„æµ‹è¯•ç•Œé¢å’Œæ¨¡æ‹Ÿæ•°æ®
- âœ… æä¾›äº†å®Œæ•´çš„ä½¿ç”¨æ–‡æ¡£å’Œç¤ºä¾‹

ç”¨æˆ·ç°åœ¨å¯ä»¥äº«å—åˆ°æ›´åŠ ç®€æ´ã€ç»Ÿä¸€ã€æ˜“ç”¨çš„ AI åŠŸèƒ½ä½“éªŒï¼
